<div id="todo-container">
  <section id="todoapp">
    <header id="header">
      <h1>todos</h1>
      <input id="new-todo" on-keypress="createNewTodoOnEnter" placeholder="What needs to be done?" {{#unless model.editing}}autofocus{{/unless}} />
    </header>
    {{#if model.todos}}
    <section id="main">
      <label for="toggle-all">Mark all as complete</label>
      <input id="toggle-all" type="checkbox" on-click="toggleAllCompleteTodos" {{#unless model.itemsRemaining}}checked{{/unless}} />
      <ul id="todo-list">
        {{#each model.filteredTodos}}
        <li data-id="{{this.id}}" class="{{#if this.completed}}completed{{/if}}{{#if this.editing}} editing{{/if}}">
          <div class="view">
            <input class="toggle" type="checkbox" on-click="toggleCompletedTodo" {{#if this.completed}}checked{{/if}} />
            <label on-dblclick="editTodo">{{this.title}}</label>
            <button class="destroy" on-click="deleteTodo"></button>
          </div>
          <input class="edit" value="{{this.title}}" on-keypress="updateTodoOnEnter" on-keydown="revertTodoOnEscape" on-blur="leaveEditMode" {{#if this.editing}}autofocus{{/if}} />
        </li>
        {{/each}}
      </ul>
    </section>
    <footer id="footer">
      <span id="todo-count"><strong>{{model.itemsRemaining}}</strong> {{model.itemsRemainingText}}</span>
      <ul id="filters">
        <li><a {{#if model.routes.todoAll}}class="selected"{{/if}} href="#/?todoFilter=all">All</a></li>
        <li><a {{#if model.routes.todoActive}}class="selected"{{/if}} href="#/?todoFilter=active">Active</a></li>
        <li><a {{#if model.routes.todoCompleted}}class="selected"{{/if}} href="#/?todoFilter=completed">Completed</a></li>
      </ul>
      {{#if model.itemsCompleted}}
      <button id="clear-completed" on-click="clearCompletedTodos">Clear completed ({{model.itemsCompleted}})</button>
      {{/if}}
    </footer>
    {{/if}}
  </section>
  <footer id="info">
    <p>Double-click to edit a todo</p>
    <p>Created by <a href="http://github.com/erikringsmuth">Erik Ringsmuth</a></p>
    <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>
    <p>This todo app is a component. <a href="https://github.com/erikringsmuth/nex-js/tree/gh-pages/js">You can see how it works in the home and todo folders here</a>.</p>
  </footer>
</div>
