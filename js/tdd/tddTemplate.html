<h2>Unit Testing</h2>

<p>Test with the framework of your choice. Injecting require.js mocks is done with <a href="https://github.com/iammerrick/Squire.js">Squire.js</a>. Here's an example <a href="http://jasmine.github.io/2.0/introduction.html">Jasmine</a> & Squire.js setup.</p>

<p class="spacer">This is the real <code>/js/home/homeView.js</code> we want to test.</p>

<pre class="prettyprint"><code>define([
  'nex',
  'handlebars',
  'js/home/homeModel'
], function(Nex, Handlebars, homeModel) {
  'use strict';

  return Nex.View.extend({
    template: Handlebars.compile('&lt;div&gt;Hello \{{model.name}}!&lt;/div&gt;'),
    model: homeModel
  });
});</code></pre>

<p class="spacer">Set up your test like this to inject a <code>homeModel</code> mock with Squire.</p>

<pre class="prettyprint"><code>
define([
  'jasmine/amd/describe',
  'jasmine/amd/it',
  'jasmine/amd/expect',
  'Squire'
], function(describe, it, expect, Squire) {
  'use strict';

  describe('The home view', function() {
    it('should display "Hello Erik Ringsmuth!"', function(done) {
      new Squire().mock('js/home/homeModel', {
        name: 'Erik Ringsmuth'
      })
      .require(['js/home/homeView'], function(HomeView) {
        var homeView = new HomeView();
        homeView.render();
        expect(homeView.el.innerHTML).toEqual('&lt;div&gt;Hello Erik Ringsmuth!&lt;/div&gt;');
        done(); // Tells Jasmine the async test is done
      });
    });
  });
});</code></pre>

<h2 class="spacer">Test Runer</h2>

<p>The nex-js website's <a href="tests/AmdSpecRunner.html">Jasmine Spec Runner</a> is run below. You can see how they're written in the nex-js gh-pages branch <a href="https://github.com/erikringsmuth/nex-js/tree/gh-pages/tests">tests folder</a>.</p>

<iframe src="tests/AmdSpecRunner.html" class="spec-runner"></iframe>

<p class="spacer">Note: There is another library <a href="https://github.com/medallia/testr.js">testr.js</a> for injecting mocks but it doesn't follow the AMD spec and it hijacks the main <code>window.require()</code> function.</p>
